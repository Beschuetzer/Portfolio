{"ast":null,"code":"var _jsxFileName = \"/home/adam/github/WebDevelopmentStuff/portfolio_site/src/components/SkillsPopup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { checkForParentOfType } from '../helpers';\nimport { clickSkill, addRepoToReposToDisplay } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SkillsPopup = ({\n  reposToDisplay,\n  repos,\n  clickedSkill,\n  addRepoToReposToDisplay,\n  clickSkill\n}) => {\n  _s();\n\n  const skillsPopupDiv = document.querySelector('#skillsPopup');\n\n  const getIndexOfItem = (target, items) => {\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n\n      if (target.localName === 'a' && item.localName === 'a') {\n        if (target.href === item.href) return i;\n      } else if (target.innerText === item.innerText) return i;\n    }\n  };\n\n  const onTableItemMouseEvent = e => {\n    const table = document.querySelector('.skills-popup__table');\n    const skillsPopupItems = document.querySelectorAll('.skills-popup__table-item');\n    const indexOfTarget = getIndexOfItem(e.target, skillsPopupItems);\n    const classNameToAdd = 'skills-popup__item-js--hover';\n    const headerCount = document.querySelectorAll('.skills-popup__table-header').length;\n    const classList = e.target.classList;\n    let min = -1;\n    let max = -1;\n\n    if ((classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__link-text')) || (classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__name'))) {\n      min = headerCount + indexOfTarget + 0;\n      max = headerCount + indexOfTarget + 4;\n    } else if (classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__description')) {\n      min = headerCount + indexOfTarget + -1;\n      max = headerCount + indexOfTarget + 3;\n    } else if (classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__createdAt')) {\n      min = headerCount + indexOfTarget + -2;\n      max = headerCount + indexOfTarget + 2;\n    } else if (classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__updatedAt')) {\n      min = headerCount + indexOfTarget + -3;\n      max = headerCount + indexOfTarget + 1;\n    } else if (classList === null || classList === void 0 ? void 0 : classList.contains('skills-popup__url')) {\n      console.log('indexOfTarget =', indexOfTarget);\n      min = headerCount + indexOfTarget + -4;\n      max = headerCount + indexOfTarget + 0;\n    }\n\n    for (let i = min; i <= max; i++) {\n      if (e.type === 'mouseleave') {\n        var _table$children$i;\n\n        (_table$children$i = table.children[i]) === null || _table$children$i === void 0 ? void 0 : _table$children$i.classList.remove(classNameToAdd);\n      } else {\n        var _table$children$i2;\n\n        (_table$children$i2 = table.children[i]) === null || _table$children$i2 === void 0 ? void 0 : _table$children$i2.classList.add(classNameToAdd);\n      }\n    }\n  }; //on initial load\n\n\n  useEffect(() => {\n    const handleClickBody = e => {\n      e.stopPropagation();\n      const isBodyClick = !checkForParentOfType(e.target, 'div', 'skills-popup');\n\n      if (isBodyClick) {\n        var _skillsPopupDiv$class;\n\n        skillsPopupDiv === null || skillsPopupDiv === void 0 ? void 0 : (_skillsPopupDiv$class = skillsPopupDiv.classList) === null || _skillsPopupDiv$class === void 0 ? void 0 : _skillsPopupDiv$class.remove('skills-popup--active');\n        clickSkill(null);\n        addRepoToReposToDisplay([]);\n      }\n    };\n\n    skillsPopupDiv.addEventListener('click', handleClickBody);\n  }, [clickSkill, skillsPopupDiv, addRepoToReposToDisplay]); //when clickedSkillUpdate\n\n  useEffect(() => {\n    for (let i = 0; i < repos.length; i++) {\n      const repo = repos[i];\n\n      for (let j = 0; j < ((_repo$repositoryTopic = repo.repositoryTopics.nodes) === null || _repo$repositoryTopic === void 0 ? void 0 : _repo$repositoryTopic.length); j++) {\n        var _repo$repositoryTopic, _node$topic;\n\n        const node = repo.repositoryTopics.nodes[j];\n\n        if (clickedSkill && (node === null || node === void 0 ? void 0 : (_node$topic = node.topic) === null || _node$topic === void 0 ? void 0 : _node$topic.name) === clickedSkill) {\n          addRepoToReposToDisplay(repos[i]);\n          break;\n        }\n      }\n    }\n  }, [clickedSkill, repos, addRepoToReposToDisplay]);\n\n  const onCloseClick = e => {\n    var _skillsPopupDiv$class2;\n\n    skillsPopupDiv === null || skillsPopupDiv === void 0 ? void 0 : (_skillsPopupDiv$class2 = skillsPopupDiv.classList) === null || _skillsPopupDiv$class2 === void 0 ? void 0 : _skillsPopupDiv$class2.remove('skills-popup--active');\n    clickSkill(null);\n    addRepoToReposToDisplay([]);\n  };\n\n  const returnDate = (key, repo) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `skills-popup__table-item skills-popup__${key}`,\n      onMouseEnter: onTableItemMouseEvent,\n      onMouseLeave: onTableItemMouseEvent,\n      children: new Date(repo[key]).toLocaleString()\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  };\n\n  const renderProjects = () => {\n    const keys = [\"name\", 'description', 'createdAt', 'updatedAt', 'url'];\n    return reposToDisplay.map(repo => {\n      return keys.map((key, index) => {\n        switch (key) {\n          case 'name':\n            if (repo['homepageUrl']) {\n              return /*#__PURE__*/_jsxDEV(\"a\", {\n                href: repo['homepageUrl'],\n                className: `skills-popup__table-item skills-popup__${key} skills-popup__link skills__title--animating`,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                onMouseEnter: onTableItemMouseEvent,\n                onMouseLeave: onTableItemMouseEvent,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  onMouseEnter: onTableItemMouseEvent,\n                  onMouseLeave: onTableItemMouseEvent,\n                  className: \"skills-popup__link-text\",\n                  children: repo[key]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this);\n            }\n\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onMouseEnter: onTableItemMouseEvent,\n              onMouseLeave: onTableItemMouseEvent,\n              className: `skills-popup__table-item skills-popup__${key}`,\n              children: repo[key]\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this);\n\n          case 'url':\n            return /*#__PURE__*/_jsxDEV(\"a\", {\n              rel: \"noreferrer\",\n              target: \"_blank\",\n              href: repo[key],\n              className: `skills-popup__table-item skills-popup__${key}`,\n              onMouseEnter: onTableItemMouseEvent,\n              onMouseLeave: onTableItemMouseEvent,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                children: /*#__PURE__*/_jsxDEV(\"use\", {\n                  xlinkHref: \"/sprite.svg#icon-chain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this);\n\n          case 'createdAt':\n            return returnDate(key, repo);\n\n          case 'updatedAt':\n            return returnDate(key, repo);\n\n          default:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onMouseEnter: onTableItemMouseEvent,\n              onMouseLeave: onTableItemMouseEvent,\n              className: `skills-popup__table-item skills-popup__${key}`,\n              children: repo[key]\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this);\n        }\n      });\n    });\n  };\n\n  const renderTableHeaders = () => {\n    const headers = ['Name', 'Description', 'Created', 'Updated', 'Repository'];\n    return headers.map(header => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skills-popup__table-header\",\n        children: header\n      }, header, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"skills-popup__content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skills-popup__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"skills-popup__header-text\",\n        children: [\"Highlighted Projects that use '\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"skills-popup__header-skill\",\n          children: clickedSkill\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 44\n        }, this), \"':\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        onClick: onCloseClick,\n        className: \"skills-popup__close\",\n        children: /*#__PURE__*/_jsxDEV(\"use\", {\n          xlinkHref: \"/sprite.svg#icon-close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skills-popup__table\",\n      children: [renderTableHeaders(), renderProjects()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 7\n  }, this), document.querySelector('#skillsPopup'));\n};\n\n_s(SkillsPopup, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n_c = SkillsPopup;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    repos: state.repos,\n    reposToDisplay: state.reposToDisplay,\n    clickedSkill: state.clickedSkill\n  };\n};\n\nexport default connect(mapStateToProps, {\n  clickSkill,\n  addRepoToReposToDisplay\n})(SkillsPopup);\n\nvar _c;\n\n$RefreshReg$(_c, \"SkillsPopup\");","map":{"version":3,"sources":["/home/adam/github/WebDevelopmentStuff/portfolio_site/src/components/SkillsPopup.js"],"names":["React","useEffect","ReactDOM","connect","checkForParentOfType","clickSkill","addRepoToReposToDisplay","SkillsPopup","reposToDisplay","repos","clickedSkill","skillsPopupDiv","document","querySelector","getIndexOfItem","target","items","i","length","item","localName","href","innerText","onTableItemMouseEvent","e","table","skillsPopupItems","querySelectorAll","indexOfTarget","classNameToAdd","headerCount","classList","min","max","contains","console","log","type","children","remove","add","handleClickBody","stopPropagation","isBodyClick","addEventListener","repo","j","repositoryTopics","nodes","node","topic","name","onCloseClick","returnDate","key","Date","toLocaleString","renderProjects","keys","map","index","renderTableHeaders","headers","header","createPortal","mapStateToProps","state","ownProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { checkForParentOfType } from '../helpers';\nimport { clickSkill, addRepoToReposToDisplay } from '../actions';\n\nconst SkillsPopup = ({reposToDisplay, repos, clickedSkill, addRepoToReposToDisplay, clickSkill }) => {\n  const skillsPopupDiv = document.querySelector('#skillsPopup');\n\n  const getIndexOfItem = (target, items) => {\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n      if (target.localName === 'a' && item.localName === 'a')  {\n        if (target.href === item.href) return i;\n\n      }\n      else if (target.innerText === item.innerText) return i;\n    }\n  }\n\n  const onTableItemMouseEvent = (e) => {\n    const table = document.querySelector('.skills-popup__table')\n    const skillsPopupItems = document.querySelectorAll('.skills-popup__table-item');\n    const indexOfTarget = getIndexOfItem(e.target, skillsPopupItems);\n    const classNameToAdd = 'skills-popup__item-js--hover';\n    const headerCount = document.querySelectorAll('.skills-popup__table-header').length;\n    const classList = e.target.classList;\n\n    let min = -1;\n    let max = -1;\n    if (classList?.contains('skills-popup__link-text') || classList?.contains('skills-popup__name')) {\n      min = headerCount + indexOfTarget + 0;\n      max = headerCount + indexOfTarget + 4;\n    }\n    else if (classList?.contains('skills-popup__description')) {\n      min = headerCount + indexOfTarget + -1;\n      max = headerCount + indexOfTarget + 3;\n    }\n    else if (classList?.contains('skills-popup__createdAt')) {\n      min = headerCount + indexOfTarget + -2;\n      max = headerCount + indexOfTarget + 2;\n    }\n    else if (classList?.contains('skills-popup__updatedAt')) {\n      min = headerCount + indexOfTarget + -3;\n      max = headerCount + indexOfTarget + 1;\n    }\n    else if (classList?.contains('skills-popup__url')) {\n      console.log('indexOfTarget =', indexOfTarget);\n      min = headerCount + indexOfTarget + -4;\n      max = headerCount + indexOfTarget + 0;\n    }\n\n    for (let i = min; i <= max; i++) {\n      if (e.type === 'mouseleave') {\n        table.children[i]?.classList.remove(classNameToAdd)\n      }\n      else {\n        table.children[i]?.classList.add(classNameToAdd);\n      }\n    }\n  }\n\n  //on initial load\n  useEffect(() => {\n    const handleClickBody = (e) => {\n      e.stopPropagation();\n      const isBodyClick = !checkForParentOfType(e.target, 'div', 'skills-popup');\n      if (isBodyClick) {\n        skillsPopupDiv?.classList?.remove('skills-popup--active');\n        clickSkill(null);\n        addRepoToReposToDisplay([]);\n      }\n    }\n    skillsPopupDiv.addEventListener('click', handleClickBody);\n  }, [clickSkill, skillsPopupDiv, addRepoToReposToDisplay]) \n\n  //when clickedSkillUpdate\n  useEffect(() => {\n    for (let i = 0; i < repos.length; i++) {\n      const repo = repos[i];\n      for (let j = 0; j < repo.repositoryTopics.nodes?.length; j++) {\n        const node = repo.repositoryTopics.nodes[j];\n        if (clickedSkill && node?.topic?.name === clickedSkill) {\n          addRepoToReposToDisplay(repos[i]);\n          break;\n        }\n      }\n    }\n\n  }, [clickedSkill, repos, addRepoToReposToDisplay]);\n\n  const onCloseClick = (e) => {\n    skillsPopupDiv?.classList?.remove('skills-popup--active');\n    clickSkill(null);\n    addRepoToReposToDisplay([]);\n  }\n\n  const returnDate = (key, repo) => {\n    return (\n      <div \n        key={key} \n        className={`skills-popup__table-item skills-popup__${key}`}\n        onMouseEnter={onTableItemMouseEvent}\n        onMouseLeave={onTableItemMouseEvent}\n      >\n        {new Date(repo[key]).toLocaleString()}\n      </div>\n    );\n  }\n\n  const renderProjects = () => {\n    const keys = [\"name\", 'description', 'createdAt', 'updatedAt','url'];\n    return reposToDisplay.map(repo => {\n      return keys.map((key, index) => {\n        switch (key) {\n          case 'name':\n            if (repo['homepageUrl']) {\n              return (\n                <a \n                  key={key}\n                  href={repo['homepageUrl']}  \n                  className=  {`skills-popup__table-item skills-popup__${key} skills-popup__link skills__title--animating`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  onMouseEnter={onTableItemMouseEvent} \n                  onMouseLeave={onTableItemMouseEvent} \n                >\n                  <div \n                    onMouseEnter={onTableItemMouseEvent} \n                    onMouseLeave={onTableItemMouseEvent} \n                    className=\"skills-popup__link-text\"\n                  >\n                    {repo[key]}\n                  </div>\n                </a>\n              )\n            }\n\n            return (\n              <div \n                key={key} \n                onMouseEnter={onTableItemMouseEvent} \n                onMouseLeave={onTableItemMouseEvent} \n                className={`skills-popup__table-item skills-popup__${key}`}\n              >\n                {repo[key]}\n              </div>\n            );\n\n          case 'url':\n            return (\n              <a \n                key={key} \n                rel=\"noreferrer\" \n                target=\"_blank\" \n                href={repo[key]}\n                className={`skills-popup__table-item skills-popup__${key}`}\n                onMouseEnter={onTableItemMouseEvent}\n                onMouseLeave={onTableItemMouseEvent}\n              >\n                <svg>\n                  <use xlinkHref=\"/sprite.svg#icon-chain\"></use>\n                </svg>\n              </a>\n            );\n          case 'createdAt':\n            return returnDate(key, repo);\n          case 'updatedAt':\n            return returnDate(key, repo);\n          default:\n            return (\n              <div \n                key={key} \n                onMouseEnter={onTableItemMouseEvent} \n                onMouseLeave={onTableItemMouseEvent} \n                className={`skills-popup__table-item skills-popup__${key}`}\n              >\n                {repo[key]}\n              </div>\n            );\n        }\n        \n      })\n    })\n  }\n\n\n  const renderTableHeaders = () => {\n    const headers = ['Name', 'Description', 'Created', 'Updated', 'Repository'];\n    return headers.map(header => {\n      return (\n        <div key={header} className=\"skills-popup__table-header\">{header}</div>\n      );\n    })\n  }\n  \n  return (\n    ReactDOM.createPortal(\n      <div className='skills-popup__content'>\n        \n        <div className='skills-popup__header'>\n          <span className='skills-popup__header-text'>\n            Highlighted Projects that use '<span className=\"skills-popup__header-skill\">{clickedSkill}</span>':\n          </span>\n          <svg onClick={onCloseClick} className='skills-popup__close'>\n            <use xlinkHref=\"/sprite.svg#icon-close\"></use>\n          </svg>\n        </div>\n        <div className='skills-popup__table'>\n          {renderTableHeaders()}\n          {renderProjects()}\n        </div>\n      </div>\n      ,\n      document.querySelector('#skillsPopup')\n    )\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    repos: state.repos,\n    reposToDisplay: state.reposToDisplay,\n    clickedSkill: state.clickedSkill,\n  }\n}\n\nexport default connect(mapStateToProps, {\n  clickSkill,\n  addRepoToReposToDisplay,\n})(SkillsPopup);\n"]},"metadata":{},"sourceType":"module"}